# This workflow is disabled, because it requires pulling a full windows container image from docker hub every time it runs

name: Windows CI Pipeline

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
      - uses: actions/checkout@v3
      - run: echo "💡 The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "🖥️ The workflow is now ready to test your code on the runner."
      - run: cd ${{ github.workspace }}
      - run: powershell.exe -Command "& { . dev\env\env.ps1; b d }"
      - run: powershell.exe -Command "& { . dev\env\env.ps1; b p }"
      - run: powershell.exe -Command "& { . dev\env\env.ps1; b r }"
      - run: echo "🍏 This job's status is ${{ job.status }}."