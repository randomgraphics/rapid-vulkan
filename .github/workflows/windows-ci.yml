# This workflow is disabled, because it requires pulling a full windows container image from docker hub every time it runs

name: Windows CI Pipeline

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }} event."
      - name: Clone Repo
        uses: actions/checkout@v3
        run: echo "üí° The ${{ github.repository }} repository has been cloned to the runner."
      - name: Install Dependencies
        shell: powershell
        run: |
          python.exe -m pip install --upgrade termcolor
          curl.exe -SL -o vulkan-sdk.exe https://sdk.lunarg.com/sdk/download/1.3.250.0/windows/VulkanSDK-1.3.250.0-Installer.exe
          vulkan-sdk.exe --root=c:\vulkan-sdk --accept-licenses --default-answer --confirm-command install com.lunarg.vulkan com.lunarg.vulkan.volk com.lunarg.vulkan.vma
      - name: Build
        shell: powershell
        run: |
          . dev\env\env.ps1
          b d
      - run: echo "üçè This job's status is ${{ job.status }}."