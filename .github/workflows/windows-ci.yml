name: Windows CI Pipeline

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
      - run: curl.exe -SL -o c:\vulkan-sdk.exe https://sdk.lunarg.com/sdk/download/1.3.250.0/windows/VulkanSDK-1.3.250.0-Installer.exe
      - run: c:\vulkan-sdk.exe --root=c:\vulkan-sdk --accept-licenses --default-answer --confirm-command install com.lunarg.vulkan com.lunarg.vulkan.volk com.lunarg.vulkan.vma
      - name: Clone Repo
        uses: actions/checkout@v3
#     - run: echo "💡 The ${{ github.repository }} repository has been cloned to the runner."
      - run: python.exe -m pip install --upgrade termcolor
      - name: Build
        shell: powershell
        run: |
          . dev\env\env.ps1
          b d
      - run: echo "🍏 This job's status is ${{ job.status }}."